<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The IDA-LET-Machine: The IDA-LET-Machine (ILM)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">The IDA-LET-Machine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">The IDA-LET-Machine (ILM) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The ILM is a simple implementation of the logical execution time (LET) paradigm for the automotive domain. In general it is based on a double buffering, to implement a zero-time communication between different cores. You can find the doxygen generated documentation <a href="https://matthiasb85.github.io/IDA-LET-Machine/files.html" title="ILM documentation">here</a></p>
<p>The ILM based was developed as an operating system (OS) and hardware independent module. At the moment, we support the standard OSEK/AUTOSAR OS API as the first OS port was based on ERIKA OS. The current hardware port is based on the CCU6 module of the AURIX TC2xx which is usually used for PWM generation.</p>
<p>The ILM is developed by the "Institut f√ºr Datentechnik und Kommunikationsnetze" (engl: Institute of Computer and Network Engineering, abbreviation <b>IDA</b>) of the TU Braunschweig. During 2016 and 2017 the development was mainly influenced by a collabortaion between IDA and Daimler RD/EIS.</p>
<h2>Where is the ILM intended for?</h2>
<p>Our mission is, to provide a simple and efficient test framework for the LET paradigm. This framework can be used in academia (e.g. for evaluation) or also for prototyping. In general the ILM can be used everywhere, where you would like to test something new, but don't want to have a huge ammount of 3rd party software in the background. <br />
 </p><h2>Where is the ILM not intended for?</h2>
<p>Although the license model does not exclude it explicitly, we would recommend not to use the ILM in any kind of series implementation. We have written the software to the best of our knowledge and belief, nevertheless it may still contain some bugs. Therefore we can not provide any kind of guarantee for functional correctness. For this kind of integegration there are several other commercial partners who provide their own implementation. As an example, Bosch and Continental do both provide an implementation of their interpretation of the LET paradigm.</p>
<h2>Folder Structure</h2>
<ul>
<li><b>ILM:</b> Core implementation of the ILM</li>
<li><b>Example:</b> Example with an generic application, using ERIKA OS on an Infineon AURIX TC275 (TriBoard TC275 or Hitex Shieldbuddy)</li>
<li><b>3rdParty:</b> Folder for external software (ERIKA OS, Infineon iLLD) including patches and build scripts</li>
</ul>
<h2>Where to start?</h2>
<p>In order to test the example, you need a build environment for the AURIX microcontroller. We use a Linux in combination with the HighTech tricore-gcc, but a cygwin installation (as used for ERIKA OS on a Windows) should also do the work.</p>
<div class="fragment"><div class="line">git clone https://github.com/matthiasb85/IDA-LET-Machine.git</div><div class="line">cd ./IDA-LET-Machine</div><div class="line">cd Example</div><div class="line">make</div></div><!-- fragment --><p> The Makefile checks if the 3rdParty software is available, if this is not the case the ./3rdParty/Setup3rdParty.sh script is executed. The script downloads the corresponding standalone version of ERIKA OS and RT-Druid, and applies some patches on it. The hardware port for the AURIX microcontroller uses Infineons iLLD library, which unfortunately is only available after registration. If the library is not available in ./3rdParty/Download when ./3rdParty/Setup3rdParty.sh is called, the script reports:</p>
<div class="fragment"><div class="line">Can&#39;t find Infineon iLLD!</div><div class="line">  1.) Please get in contact with Infineon</div><div class="line">  2.) Download the AURIX_iLLD_Package_TC2xx_v1.0.1.3.0 driver package</div><div class="line">  3.) Copy AURIX_iLLD_Package_TC2xx_v1.0.1.3.0.zip to ./3rdParty/Download</div><div class="line">  4.) Run &#39;make&#39;/&#39;make prepare&#39; in ./Example  or Setup3rdPartySoftware.sh in ./3rdParty</div></div><!-- fragment --><p> An important constraint is, that the entire library is available as source code. A Bug inside the official CCU6 driver of the iLL (which is patched during ./3rdParty/Setup3rdParty.sh) is the reason for this constrain.t</p>
<h2>Application example</h2>
<p>The application consist of 18 LET tasks. The layout of the example application can be found in ./Example/ilm_example.ods The example uses a setup with three application cores. As the used AURIX microcontroller provides three cores, we use core C0 to generate the needed IRQ pattern. In addition, the application tasks are executed on all three cores. The worst-case execution time (WCET) of the corresponding block is assigned to an LET task on both application cores. If no function block is assigned to an LET task on C0, C1 or C2, the corresponding WCET is zero. In order to simulate an accurate timing behavior of the function blocks, we used an optimized <b>nop</b> loop consuming CPU time. Due to the different periods of the system, the hyperperiod is 100ms.</p>
<p>During execution of the simulated function blocks, we use pin toggles to indentify the current states. Those pin toggles are issued through the ILM hooks and at execution begin/end of a function block. The physical pin magging is located in ./Example/IO/gpio.c and the hook functions in ./Example/ILM/ilm_hooks.c</p>
<p>If you use a Lauterbach Trace32 based setup, you can use the ''make debug'' command inside ./Example to start a debug session. With ''t32_folder'', ''t32_arch`&lsquo; and &rsquo;'addr'' you can pass Trace32 base folder, host CPU architecure and IP address (DNS name) of your trace hardware to the system. If you don't pass a parameter for ''addr'', Trace32 will search for an USB coupled device. As an example, the ''make debug'' call on my PC looks like this: </p><div class="fragment"><div class="line">make debug t32_folder=/home/matthiasb/opt/t32/files t32_arch=pc_linux addr=lauterbach1</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
